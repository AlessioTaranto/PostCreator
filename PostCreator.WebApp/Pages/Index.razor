@page "/"
@using PostCreator.Core.Services
@using static PostCreator.Core.Models
@using PostCreator.WebApp.Components
@inject IJSRuntime JSRuntime
@inject NavigationManager Navigation
@inject IArticleService ArticleService

@layout MainLayout

<PageTitle>PostCreator</PageTitle>

<div class="card">
    <div class="card-body">
        <h3 class="text-center">Welcome to PostCreator!</h3>

        <div class="text-center">
            <p>Generate and Post Content effortlessly with just a few clicks.</p>
        </div>

        <div class="text-center">
            <PromptInput OnGenerateContent="HandleGenerateContent" />
        </div>
    </div>
</div>

@code {
    private async Task HandleGenerateContent(string prompt)
    {
        await ArticleService.LoadArticles(prompt);
        Navigation.NavigateTo("/article-list");
    }
}
