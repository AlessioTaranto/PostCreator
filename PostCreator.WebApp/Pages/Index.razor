@page "/"
@using PostCreator.Core.Services
@using static PostCreator.Core.Models
@using PostCreator.WebApp.Components
@inject IJSRuntime JSRuntime
@inject NavigationManager Navigation
@inject IArticleService ArticleService

@layout MainLayout

<PageTitle>PostCreator</PageTitle>

<h3 class="text-center">Welcome to PostCreator!</h3>

<div class="text-center">
    <p>Generate and Post Content effortlessly with just a few clicks.</p>
</div>

<div class="text-center">
    <PromptInput OnGenerateContent="HandleGenerateContent" />
</div>

@code {
    private async Task HandleGenerateContent(string prompt)
    {
        await ArticleService.LoadArticles(prompt);
        Navigation.NavigateTo("/article-list");
    }
}
